<!doctype html>
<html ⚡ lang="ja">
<head>
  <meta charset="utf-8">
  <title>
    {{ if eq .Title .Site.Title }}
      {{ .Site.Title }}
    {{ else }}
      {{ with .Title }}{{ . }}|{{ end }}{{ .Site.Title }}
    {{ end }}
  </title>
  <link rel="canonical" href="{{ .Permalink }}">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#33A5E2">
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <style amp-custom>{{ partial "app.css" . | safeCSS }}</style>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
  <script async custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js"></script>
  <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
  <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
  <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
  <script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>
  <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
</head>
<body class="st-body">
<amp-install-serviceworker
  src="/serviceworker.js"
  data-iframe-src="/install-serviceworker.html"
  layout="nodisplay">
</amp-install-serviceworker>
{{ if ne .Site.Params.googleanalytics "" }}
<amp-analytics type="googleanalytics" id="analytics">
  <script type="application/json">
  {
    "vars": {
      "account": "{{ . }}"
    },
    "triggers": {
      "default pageview": {
        "on": "visible",
        "request": "pageview",
        "vars": {
          "title": "{{ .Title }}"
        }
      }
    }
  }
  </script>
</amp-analytics>
{{ end }}

{{ if .IsPage }}
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ .Title }}",
  "articleSection": "{{ .Params.categories }}",
  "genre": "{{ .Params.categories }}",
  "keywords": "{{ range .Params.tags }}{{ . }}, {{ end }}",
  "url": "{{ .Permalink }}",
  "datePublished": "{{ .Date.UTC.Format "2006-01-02T15:04:05Z" }}",
  "dateModified": "{{ if (eq .Lastmod .Date) }}{{ .Date.UTC.Format "2006-01-02T15:04:05Z" }}{{ else }}{{ .Lastmod.UTC.Format "2006-01-02T15:04:05Z" }}{{ end }}",
  "description": "{{ .Description }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "url": "{{ .Permalink }}"
  },
  "image": {
    "@type": "imageObject",
    "url": "{{ .Permalink }}{{ .Params.eyecatch }}",
    "width": "700",
    "height": "300"
  },
  "author": {
    "@type": "Person",
    "name": "{{ .Site.Params.author }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "はらぺこ屋",
    "logo": {
        "@type": "imageObject",
        "url": "{{ .Site.BaseURL }}images/publisher_logo.jpg",
        "width": 600,
        "height": 60
    }
  }
}
</script>
{{ else }}
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "{{ .Permalink }}",
  "name": "{{ .Site.Title }}",
    "author": {
      "@type": "Person",
      "name": "{{ .Site.Params.Author }}"
    },
  "description": "{{ .Site.Params.description }}"
}
</script>
<script type="application/ld+json">
{
  "@context":"http://schema.org",
  "@type":"ItemList",
  "itemListElement":[
    {{- range $index, $element := .Data.Pages }}
    {{ if $index }},{{ end }}
    {
      "@type":"ListItem",
      "position":{{ $index }},
      "url":"{{ .Permalink }}"
    }
    {{- end }}
  ]
}
</script>
{{ end }}
