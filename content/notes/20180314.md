---
title: "テンプレート構文|Vue.js再学習"
date: 2018-03-14T03:00:00+09:00
eyecatch: "/images/common/eyecatch/vuejs.png"
eyecatch_alt: "vue.js"
categories: "notes"
tags: [vuejs]
draft: true
---

今日はテンプレート構文を見ていきます。

[テンプレート構文](https://jp.vuejs.org/v2/guide/syntax.html)

# テンプレート構文
## 冒頭

Vue.jsはHTMLベースのテンプレート構文を使っています。
つまり全てのVue.jsテンプレートは、ブラウザやHTMLパーサによってパースできるValidなHTMLのようです。

以上の理由でVueインスタンスのデータと描画されたDOMを宣言的に対応させることができるようです。

宣言的：ここでは具体的な手順、つまり実装の細部やアルゴリズムを隠すという意味で捉えるのが良さそうです

素のJSを使った場合、HTMLとJSを対応させるためにはその処理を書く必要があります。
Vue.jsではValidなHTMLを使っているので、Vue.jsとの対応はVue.jsフレームワークが解釈するValidなHTMLで紐付けするようになっているよという事ですね。

Vue.jsが解釈するHTMLを書くとデータの対応は、Vue.jsが内部で色々やってくれるよという事ですね。

## 展開

### テキスト

データバインディングのもっとも基本的な形は、"Mustache"タグ(二重中括弧)を利用したテキスト展開です。

```html
<span>Message: {{ msg }}</span>
```

mustacheタグは、対応するオブジェクトの`msg`プロパティの値に置き換えられます。

また、`msg`プロパティが変更されるとき、それに応じて更新されます。

`v-once`ディレクティブを使用すると、データ変更時の更新を行わず、一度だけデータを展開することができます。
ただし、同じノードの全てのバインディングが`v-once`の影響を受けるようです。

### 生のHTML

Mustacheタグは、プレーンなテキストとして展開されます。
HTMLとして出力したい場合は、`v-html`ディレクティブを使います。

```html
<p>using mustaches: {{ rawHtml }}</p>
<p>Using v-html: <span v-html="rawHtml"></span></p>
```

<div class="sc-demo">
  <p>Using mustaches: &lt;span style="color: red"&gt;This should be red.&lt;/span&gt;</p>
  <p>Using v-html directive: <span><span style="color: red">This should be red.</span></span></p>
</div>

`span`の「コンテンツ」は`rawHtml`プロパティの値に書き換えられ、プレーンなHTMLとして解釈されます。

Vueは、文字列ベースのテンプレートエンジンではないので、`v-html`をテンプレート部品のような振る舞いでは使用できません。(あくまでデータということでしょうかね？)

代わりに、UIの再利用や組み合わせの基礎として、コンポーネントを利用することが好ましいようです。

またこれは当然ですが、生のHTMLを出すということはXSS脆弱性の可能性があるので、信用できるコンテンツにだけ使いましょう。(最近のフレームワークは、任意で書かないと生のHTMLが出力されないようになっていますね)

### 属性

Mustacheは、HTML属性の値で使用できません。
代わりに、`v-bind`ディレクティブを使います。

```html
<div v-bind:id="dynamicId"></div>
```

属性が単に存在していることを`true`と示すような真偽値属性の場合、`v-bind`は少し異なった動きをします。

```html
<button v-bind:disabled="isButtonDisabled">Button</button>
```

`isButtonDisabled`が`null`、`undefined`、または`false`の値を持つ場合、`<button>`要素に`disabled`属性は描画された含められません。

### JavaScript式の使用

